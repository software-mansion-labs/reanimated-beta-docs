# measure

`measure` lets you synchronously get the dimensions and the position of a view on the screen.

If you need the measurements as soon as possible and you don't need `pageX` and `pageY`, consider using the [`onLayout`](https://reactnative.dev/docs/view#onlayout) property instead.

## Reference

```jsx
import { measure } from "react-native-reanimated";

function App() {
  const animatedRef = useAnimatedRef();

  const handlePress = () => {
    runOnUI(() => {
      // highlight-next-line
      const measurement = measure(animatedRef);
      if (measurement === null) {
        return;
      }
      // ...
    })();
  };

  return <Animated.View ref={animatedRef} />;
}
```

<details>
<summary>Type definitions</summary>

```typescript
interface MeasuredDimensions {
  x: number;
  y: number;
  width: number;
  height: number;
  pageX: number;
  pageY: number;
}

function measure<T extends Component>(
  animatedRef: RefObject<T>
): MeasuredDimensions | null;
```

</details>

### Arguments

#### `animatedRef`

An [animated ref](/) connected to the component you'd want to get the measurements from. The animated ref has to be passed to an [Animated component](/docs/fundamentals/glossary#animated-component).

### Returns

`measure` returns an object containing these fields:

- `x` a number representing X coordinate relative to the parent component,
- `y` a number representing Y coordinate relative to the parent component,
- `width` a number representing the width of the component,
- `height` a number representing the height of the component,
- `pageX` a number representing X coordinate relative to the screen,
- `pageY `a number representing Y coordinate relative to the screen,

or returns `null` when the measurement couldn't be performed.

## Example

import MeasureBasic from "@site/src/examples/MeasureBasic";
import MeasureBasicSrc from "!!raw-loader!@site/src/examples/MeasureBasic";

<InteractiveExample src={MeasureBasicSrc} component={<MeasureBasic />} />

## Pit falls

- `measure` has an implementation only on the [UI thread](/docs/fundamentals/glossary#ui-thread). When using `measure` inside [event handlers](https://react.dev/learn/responding-to-events#adding-event-handlers) it has to be wrapped with [`runOnUI`](/) function.

- The `useAnimatedStyle` function is first evaluated in the [JavaScript thread](/docs/fundamentals/glossary#javascript-thread) just before the views are attached on the native side. For this reason, to safely use the measure within `useAnimatedStyle`, add this check to your code:

<Indent>

```jsx
function App() {
  const animatedStyles = useAnimatedStyle(() => {
    // highlight-next-line
    if (_WORKLET) {
      // safely use measure
      const measurement = measure(animatedRef);
    }
  });
}
```

The consecutive runs of `useAnimatedStyle` are made on the UI thread.

</Indent>

- Sometimes (e.g. when ref couldn't attach to the view) the `measure` may return a `null`. It's best to add a `null` check after the measurement for additional safety:

<Indent>

```jsx
const animatedRef = useAnimatedRef();

const handlePress = () => {
  runOnUI(() => {
    const measurement = measure(animatedRef);

    // highlight-start
    if (measurement === null) {
      return;
    }
    // highlight-end
  })();
};
```

</Indent>

- `measure` can be used only on rendered components. For example, trying to `measure` off-screen items in a `FlatList` will result in a `null` value.

- `measure` isn't available with Remote JS Debugger. For debugging React Native apps, we highly recommend using Chrome DevTools (aka `chrome://inspect`) instead.

- `measure` can be used to measure both [Animated components](/docs/fundamentals/glossary#animated-component) and plain React Native built-ins.

## Platform compatibility

<div className="compatibility">

| Android | iOS | Web |
| ------- | --- | --- |
| ✅      | ✅  | ✅  |

</div>
